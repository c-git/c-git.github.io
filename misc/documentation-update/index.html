
<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://dev.chester.wykies.com/js/theme.min.js" integrity="sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1"></script>
  <link rel="stylesheet" href="https://dev.chester.wykies.com/abridge.css?h=1d8271772a1ed466a51f" />
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="base" content="https://dev.chester.wykies.com" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="theme-color" content="#333333" />
  <link rel="manifest" href="https://dev.chester.wykies.com/manifest.min.json" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://dev.chester.wykies.com/favicon-180x180.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://dev.chester.wykies.com/favicon-32x32.png" />
  <link rel="alternate" type="application/atom+xml" title="Chester Wyke Atom Feed" href="https://dev.chester.wykies.com/atom.xml" />
  <meta name="robots" content="index, follow" />
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  <title>Documentation Update | Chester Wyke</title>
  <meta name="author" content="Chester Wyke" />
  <meta name="copyright" content="Chester Wyke" />
  <meta name="description" content="Chester Wyke is a software developer by trade and passion. This is his personal site with information about him and his publicly accessible notes on various topics." />
  <link rel="canonical" href="https://dev.chester.wykies.com/misc/documentation-update/" />
  <meta name="keywords" content="Chester, Wyke, Software, Developer, Notes" />
  <meta property="og:url" content="https://dev.chester.wykies.com/misc/documentation-update/" />
  <meta name="twitter:url" content="https://dev.chester.wykies.com/misc/documentation-update/" />
  <meta property="og:description" content="Chester Wyke is a software developer by trade and passion. This is his personal site with information about him and his publicly accessible notes on various topics." />
  <meta name="twitter:description" content="Chester Wyke is a software developer by trade and passion. This is his personal site with information about him and his publicly accessible notes on various topics." />
  <meta property="og:title" content="Documentation Update | Chester Wyke" />
  <meta name="twitter:title" content="Documentation Update | Chester Wyke" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://dev.chester.wykies.com/logo.png" />
  <meta property="og:image" content="https://dev.chester.wykies.com/logo.png" />
  <meta property="og:site_name" content="Chester Wyke" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:updated_time" content="2025-05-24" />
  <script defer src="https://dev.chester.wykies.com/js/abridge_nopwa.min.js?h=da86cb0a199b3ccbdff1" integrity="sha384-vIpObQoso10COS540XqkYFIjE+P0OwczzYDnC2D28QZ8O6slixwCc+F1xxYZKvFr"></script>
  <noscript><link rel="stylesheet" href="https://dev.chester.wykies.com/nojs.css" /></noscript>
</head>
<body>
  <header>
    <nav>
      <div><big><a href="https://dev.chester.wykies.com" title="Chester Wyke"><img src="https://dev.chester.wykies.com/logo-300x102.png" alt="Logo" width="75" height="32" /> &nbsp; Chester Wyke</a></big></div>
      <div>

        <div>
          <ul><li><a class="s110" href="https://dev.chester.wykies.com/archive/"> Articles </a></li><li><a class="s110" href="https://dev.chester.wykies.com/tags/"> Tags </a></li><li><i type="reset" id="mode" class="js svgs adjust"></i></ul>
        </div>

        <div>
          <div>
            <form autocomplete=off class="js" name="goSearch" id="searchbox">
              <div class="searchd">
                <input id="searchinput" type="text" placeholder="Search" title="Search" />
                <button type="submit" title="Search" class="svgs svgm search"></button>
              </div>
              <div class="results"><div id="suggestions"></div></div>
            </form>
          </div>
        </div>

      </div>
    </nav>
    <hr />
  </header>
  <main>
    <article>
      <h1><a href="https://dev.chester.wykies.com/misc/documentation-update/">Documentation Update</a></h1>

      <span class="s95"> Chester Wyke <span class="rpad"></span> October 27, 2023 <span class="rpad"></span>Updated: May 24, 2025 <span class="rpad"></span> #<a href="https://dev.chester.wykies.com/tags/misc/">Misc</a> </span>

    


<h1 id="overview"><a class="zola-anchor" href="#overview" aria-label="Anchor link for: overview">Overview</a></h1>
<p>Top level folders under <a rel="noopener" target="_blank" href="https://github.com/c-git/c-git.github.io/tree/main/content">content</a> are sections and each has a
<code>_index.md</code> that specifies the configuration parameters for that section.
Then inside each folder you will find the pages for that section.</p>
<p>To ensure that sections stay in alphabetical order we use manually set incrementing weights for each section.
Initially the gap between the weights of sections is 50 and as sections are added in between we place them centered between their neighbours to reduce the frequency of needing to reweight.
This allows us to keep them in alphabetical order even though sorting by title is not available for top level sections.
We are using <a href="https://dev.chester.wykies.com/misc/zola/">zola</a>, for more info on how it works see that page.</p>
<h1 id="creating-a-section"><a class="zola-anchor" href="#creating-a-section" aria-label="Anchor link for: creating-a-section">Creating a section</a></h1>
<p>As stated in the <a href="https://dev.chester.wykies.com/misc/documentation-update/#overview">overview</a> each section has a <code>_index.md</code>.
We only change the first two lines in that file and the other two always stay the same.
Namely, we set:</p>
<ul>
<li><code>title</code> to an appropriate string and</li>
<li><code>weight</code> we set so that is halfway between the one <strong>before</strong> it and the one <strong>after</strong> it.</li>
</ul>
<h1 id="creating-a-page"><a class="zola-anchor" href="#creating-a-page" aria-label="Anchor link for: creating-a-page">Creating a page</a></h1>
<h2 id="no-co-located-resources"><a class="zola-anchor" href="#no-co-located-resources" aria-label="Anchor link for: no-co-located-resources">No co-located resources</a></h2>
<p>Pages with no resources needed to be stored (co-location) in the same folder as them are simple and only require creating a file in the correct folder for the section with the name of page and the extension <code>.md</code>.
At the top of the file you need to add the <a rel="noopener" target="_blank" href="https://www.getzola.org/documentation/content/page/#front-matter">front matter</a>.
We use the simple TOML version which starts with <code>+++</code> and ends the same way.
The only variable that we use is <code>title</code> and this must be set.</p>
<h2 id="with-co-located-resources"><a class="zola-anchor" href="#with-co-located-resources" aria-label="Anchor link for: with-co-located-resources">With co-located resources</a></h2>
<p>Pages that need to link to resources that must be stored in the same location require a folder to be created with the name of the page.
The content of the page is then specified in <code>index.md</code> inside of that folder.
All the related content can then be placed in that same folder.</p>
<h2 id="must-include-a-date"><a class="zola-anchor" href="#must-include-a-date" aria-label="Anchor link for: must-include-a-date">Must include a date</a></h2>
<p>If you want to make use of <a rel="noopener" target="_blank" href="https://www.getzola.org/documentation/templates/feeds/">feed generation</a> then the pages need to have dates on them.
<code>date</code> corresponds to <a href="https://dev.chester.wykies.com/site-definitions/#published">published</a> and must be set.
<code>updated</code> corresponds to <a href="https://dev.chester.wykies.com/site-definitions/#updated">updated</a> and is optional.
The values need to be set in the <a rel="noopener" target="_blank" href="https://www.getzola.org/documentation/content/page/#front-matter">front matter</a> of the page.
Each value is explained in the comments below.
Note that the comments are not required to be copied.
All pages created before starting the public website did not have a date and as such all have been set to the last edit date as a proxy.</p>
<p>To simplify setting dates I created a tool called <a rel="noopener" target="_blank" href="https://github.com/c-git/zola_chrono">zola_chrono</a> that automates the updating of <code>date</code> and <code>updated</code>.</p>
<pre data-lang="toml" class="language-toml z-code"><code class="language-toml" data-lang="toml"><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> The date of the post.</span>
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> Two formats are allowed: YYYY-MM-DD (2012-10-02) and RFC3339 (2002-10-02T15:00:00Z).</span>
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> Do not wrap dates in quotes; the line below only indicates that there is no default date.</span>
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> If the section variable `sort_by` is set to `date`, then any page that lacks a `date`</span>
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> will not be rendered.</span>
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> Setting this overrides a date set in the filename.</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">date</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span>
</span><span class="z-source z-toml">
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> The last updated date of the post, if different from the date.</span>
</span><span class="z-source z-toml"><span class="z-comment z-line z-number-sign z-toml"><span class="z-punctuation z-definition z-comment z-toml">#</span> Same format as `date`.</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">updated</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span>
</span></code></pre>
<h2 id="rules-for-setting-date-and-updated"><a class="zola-anchor" href="#rules-for-setting-date-and-updated" aria-label="Anchor link for: rules-for-setting-date-and-updated">Rules for setting <code>date</code> and <code>updated</code></a></h2>
<p>The fields should be set according to the following rules:</p>
<ol>
<li><code>date</code> should be the original publish date (Must exist and be today or earlier).</li>
<li><code>updated</code> should only be set if <code>date</code> is not equal to the last commit date, if it needs to be set it should match the last commit date.
Which may mean setting it to todays date if you are about to commit that file.</li>
</ol>
<p>Turns out with just these two simple rules it creates at least 42 interesting cases to consider.
Many of them are edge cases but all had to be accounted for in <a rel="noopener" target="_blank" href="https://github.com/c-git/zola_chrono">zola_chrono</a>.
As a result the most authoritative answer on what should happen in a given case is documented in <a rel="noopener" target="_blank" href="https://github.com/c-git/zola_chrono/blob/710e6e84fe1ba788dd0c29ea77084aadcec01f0f/src/processing/file_data.rs#L458-L507">the tests</a>.
If you’re already familiar with <a rel="noopener" target="_blank" href="https://docs.rs/rstest/latest/rstest/attr.rstest.html">rstest</a> you can skip the following comment, the tests show several cases with the inputs on the left and expected values on the right. To see what each column represents look at the function definition below the cases the correspond to the function arguments.</p>
<h1 id="using-zola-chrono"><a class="zola-anchor" href="#using-zola-chrono" aria-label="Anchor link for: using-zola-chrono">Using <a rel="noopener" target="_blank" href="https://github.com/c-git/zola_chrono">zola_chrono</a></a></h1>
<h2 id="install"><a class="zola-anchor" href="#install" aria-label="Anchor link for: install">Install</a></h2>
<pre data-lang="sh" class="language-sh z-code"><code class="language-sh" data-lang="sh"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> install zola_chrono</span>
</span></code></pre>
<h2 id="setting-up-a-pre-push-hook"><a class="zola-anchor" href="#setting-up-a-pre-push-hook" aria-label="Anchor link for: setting-up-a-pre-push-hook">Setting up a pre-push hook</a></h2>
<p>Each line does the following respectively</p>
<ol>
<li>Create the hook file</li>
<li>Move the file into the hooks folder (it should already exist if git is setup)</li>
<li>Make the file executable</li>
</ol>
<pre data-lang="sh" class="language-sh z-code"><code class="language-sh" data-lang="sh"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-support z-function z-echo z-shell">echo</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell">-</span>e</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>#!/bin/sh\nzola_chrono --check content/<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span> <span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> pre-push</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mv</span></span><span class="z-meta z-function-call z-arguments z-shell"> pre-push .git/hooks</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">chmod</span></span><span class="z-meta z-function-call z-arguments z-shell"> +x .git/hooks/pre-push</span>
</span></code></pre>
<p>The hook should now be setup and working.</p>
<h1 id="screenshot-colors"><a class="zola-anchor" href="#screenshot-colors" aria-label="Anchor link for: screenshot-colors">Screenshot colors</a></h1>
<p>Documenting colors used for consistency going forward</p>
<table><thead><tr><th style="text-align: left">Use</th><th style="text-align: left">Color Code</th></tr></thead><tbody>
<tr><td style="text-align: left">Screenshot boarders</td><td style="text-align: left"><p style="background-color:#797e9c;">797e9c</p></td></tr>
<tr><td style="text-align: left">Highlights</td><td style="text-align: left"><p style="background-color:#4cac44;">4cac44</p></td></tr>
</tbody></table>

    </article>

    <div class="sblock">
      <div class="blockdiv sticky">
        <a class="b s150" href="#">Index</a>
        <div>
          <a href="#overview">Overview</a>
        </div>
        <div>
          <a href="#creating-a-section">Creating a section</a>
        </div>
        <div>
          <a href="#creating-a-page">Creating a page</a>
        </div>
        <div class="hpad">
          <a href="#no-co-located-resources"><small>- No co-located resources</small></a>
        </div>
        <div class="hpad">
          <a href="#with-co-located-resources"><small>- With co-located resources</small></a>
        </div>
        <div class="hpad">
          <a href="#must-include-a-date"><small>- Must include a date</small></a>
        </div>
        <div class="hpad">
          <a href="#rules-for-setting-date-and-updated"><small>- Rules for setting date and updated</small></a>
        </div>
        <div>
          <a href="#using-zola-chrono">Using zola_chrono</a>
        </div>
        <div class="hpad">
          <a href="#install"><small>- Install</small></a>
        </div>
        <div class="hpad">
          <a href="#setting-up-a-pre-push-hook"><small>- Setting up a pre-push hook</small></a>
        </div>
        <div>
          <a href="#screenshot-colors">Screenshot colors</a>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <hr />
    <div class="c">
      <nav class="tpad"><div><a type="application/atom+xml" href="https://dev.chester.wykies.com/atom.xml" target="_blank" title="Chester Wyke Atom Feed"><i type="Button" class="svg rss" title="Chester Wyke Atom Feed"></i></a><a href="https://www.linkedin.com/in/cwyke/" target="_blank" title="LinkedIn"><i type="Button" class="svg linkedin" title="LinkedIn"></i></a><a href="https://github.com/c-git/" target="_blank" title="Github"><i type="Button" class="svg github" title="Github"></i></a></div></nav>
      <nav class="vpad">
        <a class="rpad s90" href="https://dev.chester.wykies.com/site-definitions/"> Definitions </a>
        <a class="rpad s90" href="https://dev.chester.wykies.com/privacy/"> Privacy </a>
        <a class="rpad s90" href="https://dev.chester.wykies.com/sitemap.xml" target="_blank"> Sitemap </a>
      </nav>
          
      <p class="s80"> © 2022-<span id="year">2025</span> Chester Wyke</p>
      <p class="s80">Powered by <a href="https://www.getzola.org/" target="_blank">Zola</a> & <a href="https://github.com/jieiku/abridge/" target="_blank">Abridge</a></p>
    </div>
  </footer><span class="topout">
<span class="topleft"> </span><a href="#" class="top" title="Back to Top"><i class="svgs svgh angu"></i></a>
</span>
</body>
</html>
